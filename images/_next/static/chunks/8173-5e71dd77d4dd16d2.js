(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8173,5353,1897],{9736:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(7462),a=r(7294),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},s=r(2135),c=a.forwardRef(function(e,t){return a.createElement(s.Z,(0,n.Z)({},e,{ref:t,icon:o}))})},9647:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(7462),a=r(7294),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]},name:"heart",theme:"outlined"},s=r(2135),c=a.forwardRef(function(e,t){return a.createElement(s.Z,(0,n.Z)({},e,{ref:t,icon:o}))})},4443:function(e,t,r){"use strict";r.d(t,{ZP:function(){return i},c4:function(){return o}});var n=r(7294),a=r(5976);let o=["xxl","xl","lg","md","sm","xs"],s=e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}),c=e=>{let t=[].concat(o).reverse();return t.forEach((r,n)=>{let a=r.toUpperCase(),o=`screen${a}Min`,s=`screen${a}`;if(!(e[o]<=e[s]))throw Error(`${o}<=${s} fails : !(${e[o]}<=${e[s]})`);if(n<t.length-1){let r=`screen${a}Max`;if(!(e[s]<=e[r]))throw Error(`${s}<=${r} fails : !(${e[s]}<=${e[r]})`);let o=t[n+1].toUpperCase(),c=`screen${o}Min`;if(!(e[r]<=e[c]))throw Error(`${r}<=${c} fails : !(${e[r]}<=${e[c]})`)}}),e};function i(){let[,e]=(0,a.ZP)(),t=s(c(e));return n.useMemo(()=>{let e=new Map,r=-1,n={};return{matchHandlers:{},dispatch:t=>(n=t,e.forEach(e=>e(n)),e.size>=1),subscribe(t){return e.size||this.register(),r+=1,e.set(r,t),t(n),r},unsubscribe(t){e.delete(t),e.size||this.unregister()},unregister(){Object.keys(t).forEach(e=>{let r=t[e],n=this.matchHandlers[r];null==n||n.mql.removeListener(null==n?void 0:n.listener)}),e.clear()},register(){Object.keys(t).forEach(e=>{let r=t[e],a=t=>{let{matches:r}=t;this.dispatch(Object.assign(Object.assign({},n),{[e]:r}))},o=window.matchMedia(r);o.addListener(a),this.matchHandlers[r]={mql:o,listener:a},a(o)})},responsiveMap:t}},[e])}},4250:function(e,t,r){"use strict";r.d(t,{ZP:function(){return c}});var n=r(7294),a=r(8410),o=r(4443),s=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,n.useRef)({}),r=function(){let[,e]=n.useReducer(e=>e+1,0);return e}(),s=(0,o.ZP)();return(0,a.Z)(()=>{let n=s.subscribe(n=>{t.current=n,e&&r()});return()=>s.unsubscribe(n)},[]),t.current},c={useBreakpoint:function(){return s()}}},2536:function(e,t,r){"use strict";r.d(t,{FL:function(){return g},Ir:function(){return i},N5:function(){return f},NK:function(){return n},Ni:function(){return x},RV:function(){return s},TH:function(){return y},Ww:function(){return v},a3:function(){return h},c7:function(){return c},ck:function(){return m},eK:function(){return o},fA:function(){return w},lB:function(){return p},li:function(){return u},tc:function(){return a},vj:function(){return d},xG:function(){return l}});let n=async e=>{try{let t=await fetch("".concat("https://api.mangaruu.xyz","/update-view?manga_id=").concat(e.manga_id,"&chapter_id=").concat(e.chapter_id),{method:"POST",headers:{"Content-Type":"application/json"}}),r=await t.json();return r}catch(e){return console.log(e),{success:!1,error:"Server error"}}},a=async(e,t)=>{try{let r=await fetch("".concat("https://api.mangaruu.xyz","/rate/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rate:t})}),n=await r.json();return n}catch(e){return console.log(e),{success:!1,error:"Server error"}}},o=async e=>{try{let t=await fetch("".concat("https://api.mangaruu.xyz","/report"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();return r}catch(e){return console.log(e),{success:!1,error:"Server error"}}},s=async(e,t)=>{try{let r=await fetch("".concat("https://api.mangaruu.xyz","/image-report"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image_id:e,path:t})}),n=await r.json();return n}catch(e){return console.log(e),{success:!1,error:"Server error"}}},c=async e=>{try{let t=await fetch("".concat("https://api.mangaruu.xyz","/store-user"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();return r}catch(e){return console.log(e),{success:!1,error:"Server error"}}},i=async e=>{try{let t=await fetch("".concat("https://api.mangaruu.xyz","/add-comment"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();return r}catch(e){return console.log(e),{success:!1,error:"Server error"}}},l=async e=>{try{let t=await fetch("".concat("https://api.mangaruu.xyz","/comment/").concat(e,"/like"),{method:"POST",headers:{"Content-Type":"application/json"}}),r=await t.json();return r}catch(e){return console.log(e),{success:!1,error:"Server error"}}},u=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"DESC",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:8;try{let o=await fetch("".concat("https://api.mangaruu.xyz","/comments?page=").concat(r,"&per_page=").concat(a,"&order=").concat(n,"&manga_id=").concat(e,"&chapter_id=").concat(t),{method:"GET",headers:{"Content-Type":"application/json"}}),s=await o.json();return s}catch(e){return console.log(e),{success:!1,error:"Server error"}}},d=async e=>{try{let t=await fetch("".concat("https://api.mangaruu.xyz","/sync-favorite"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();return r}catch(e){return console.log(e),{success:!1,error:"Server error"}}},p=async e=>{try{let t=await fetch("".concat("https://api.mangaruu.xyz","/favorites?page=").concat(e.page,"&per_page=").concat(e.per_page,"&googleId=").concat(e.googleId),{method:"GET",headers:{"Content-Type":"application/json"}}),r=await t.json();return r}catch(e){return console.log(e),{success:!1,error:"Server error"}}},h=async e=>{try{let t=await fetch("".concat("https://api.mangaruu.xyz","/favorite"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();return r}catch(e){return console.log(e),{success:!1,error:"Server error"}}},x=async e=>{try{let t=await fetch("".concat("https://api.mangaruu.xyz","/favorite/remove"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();return r}catch(e){return console.log(e),{success:!1,error:"Server error"}}},f=async e=>{try{let t=await fetch("".concat("https://api.mangaruu.xyz","/profile/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}),r=await t.json();return r}catch(e){return console.log(e),{success:!1,error:"Server error"}}},m=async e=>{try{let t=await fetch("".concat("https://api.mangaruu.xyz","/profile"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();return r}catch(e){return console.log(e),{success:!1,error:"Server error"}}},g=async e=>{try{let t=await fetch("".concat("https://api.mangaruu.xyz","/subscribed"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();return r}catch(e){return console.log(e),{success:!1,error:"Server error"}}},y=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;try{let n=await fetch("".concat("https://api.mangaruu.xyz","/notifications?per_page=").concat(r,"&googleId=").concat(e,"&firstId=").concat(t),{method:"GET",headers:{"Content-Type":"application/json"}}),a=await n.json();return a}catch(e){return console.log(e),{success:!1,error:"Server error"}}},w=async e=>{try{let t=await fetch("".concat("https://api.mangaruu.xyz","/update-read-notification/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"}}),r=await t.json();return r}catch(e){return console.log(e),{success:!1,error:"Server error"}}},v=async e=>{try{let t=await fetch("".concat("https://api.mangaruu.xyz","/badge-count/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}),r=await t.json();return r}catch(e){return console.log(e),{success:!1,error:"Server error"}}}},1897:function(e,t,r){"use strict";r.r(t);var n=r(5893),a=r(1664),o=r.n(a),s=r(3403),c=r(3923),i=r(9647),l=r(1163),u=r(7294),d=r(9123),p=r(2536),h=r(5152),x=r.n(h),f=r(2100);let m=x()(()=>r.e(1179).then(r.bind(r,2722)),{loadableGenerated:{webpack:()=>[2722]}});x()(()=>Promise.all([r.e(5265),r.e(732)]).then(r.bind(r,732)),{loadableGenerated:{webpack:()=>[732]}});let g=x()(()=>Promise.all([r.e(5675),r.e(5265),r.e(1707),r.e(9220),r.e(38),r.e(3144)]).then(r.bind(r,38)),{loadableGenerated:{webpack:()=>[38]}}),y=()=>{let e=(0,l.useRouter)(),[t,r]=(0,u.useState)(!1),[a,h]=(0,u.useState)(!1),[x,y]=(0,u.useState)(!1),{permission:w,isSupported:v,badgeCount:j}=(0,f.O)(),[b,S]=(0,u.useState)(0);(0,u.useEffect)(()=>{S(j)},[j]);let[N,C]=(0,u.useState)("/top"),{user:k}=(0,d.a)(),_=()=>{k?e.push("/history"):(C("/history"),r(!0))},T=async t=>{await (0,p.c7)(t),r(!1),e.push(N)},z=()=>{k?e.push("/profile"):(C("/profile"),r(!0))},[O,E]=(0,u.useState)(!1),Z=()=>{window.scrollY>500?E(!0):E(!1)},P=()=>{window.scrollTo({top:0,behavior:"smooth"})};return(0,u.useEffect)(()=>(window.addEventListener("scroll",Z),()=>{window.removeEventListener("scroll",Z)}),[]),(0,n.jsxs)("div",{className:"fixed block md:hidden bottom-safe-bottom border-t box-shadow bg-gray-900 text-white w-full border-white/5 z-[100] left-0 px-[8px] py-[2px] rounded-t-2xl",children:[(0,n.jsxs)("div",{className:"grid-cols-5 grid gap-0",children:[(0,n.jsx)("div",{className:"px-[0px] flex flex-col items-center justify-center py-[5px] rounded-2xl cursor-pointer ",children:O?(0,n.jsxs)("svg",{onClick:P,xmlns:"http://www.w3.org/2000/svg",width:"35",height:"35",viewBox:"-0.5 0 25 25",fill:"none",children:[(0,n.jsx)("path",{d:"M12 22.4199C17.5228 22.4199 22 17.9428 22 12.4199C22 6.89707 17.5228 2.41992 12 2.41992C6.47715 2.41992 2 6.89707 2 12.4199C2 17.9428 6.47715 22.4199 12 22.4199Z",stroke:"#fff",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M8 13.8599L10.87 10.8C11.0125 10.6416 11.1868 10.5149 11.3815 10.4282C11.5761 10.3415 11.7869 10.2966 12 10.2966C12.2131 10.2966 12.4239 10.3415 12.6185 10.4282C12.8132 10.5149 12.9875 10.6416 13.13 10.8L16 13.8599",stroke:"#fff",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}):(0,n.jsxs)(o(),{className:"flex flex-col items-center justify-center",href:"/top",children:[(0,n.jsx)(s.Z,{className:"text-[1.2rem]"}),(0,n.jsx)("span",{className:"text-[12px] mt-[2px]",children:"繝医ャ繝�"})]})}),(0,n.jsxs)("div",{onClick:_,className:"px-[0px] flex  flex-col items-center justify-center py-[5px] rounded-2xl cursor-pointer ",children:[(0,n.jsx)(c.Z,{className:"text-[1.2rem]"}),(0,n.jsx)("span",{className:"text-[12px] mt-[2px]",children:"譌｢隱ｭ"})]}),(0,n.jsxs)("div",{onClick:()=>{document.body.style.overflow="hidden",y(!0)},className:"px-[0px] flex  flex-col items-center justify-center py-[5px] rounded-2xl cursor-pointer ",children:[(0,n.jsx)("svg",{fill:"currentColor",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",className:"pointer-events-none inset-y-0 h-full w-5 text-gray-300",children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.83 7.5a14.34 14.34 0 1 1 0 28.68 14.34 14.34 0 0 1 0-28.68Zm0-4a18.33 18.33 0 1 0 11.48 32.64l8.9 8.9a1 1 0 0 0 1.42 0l1.4-1.41a1 1 0 0 0 0-1.42l-8.89-8.9A18.34 18.34 0 0 0 21.83 3.5Z"})}),(0,n.jsx)("span",{className:"text-[12px] mt-[2px]",children:"繧ｵ繝ｼ繝�"})]}),(0,n.jsxs)(o(),{href:"/favorite",className:"px-[0px] flex  flex-col items-center justify-center py-[5px] rounded-2xl cursor-pointer ",children:[(0,n.jsx)(i.Z,{className:"text-[1.2rem]"}),(0,n.jsx)("span",{className:"text-[12px] mt-[2px]",children:"縺頑ｰ励↓蜈･繧�"})]}),(0,n.jsxs)("div",{onClick:z,className:"px-[0px] flex  flex-col items-center justify-center py-[5px] rounded-2xl cursor-pointer ",children:[(0,n.jsx)("img",{alt:"user",className:"w-[20px] h-[20px] rounded-full",src:(null==k?void 0:k.avatar)||"/icons/user.png"}),(0,n.jsx)("span",{className:"text-[12px] mt-[2px]",children:"繝槭う繝壹�繧ｸ"})]})]}),t&&(0,n.jsx)(m,{showLogin:t,onLogined:T,onCancel:()=>r(!1)}),x&&(0,n.jsx)(g,{modalSearch:x,placement:"right",onCancel:()=>{y(!1),document.body.style.overflow="auto"}})]})};t.default=y},4222:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var n=r(5893),a=r(1664),o=r.n(a),s=r(9736),c=r(9969),i=r(1163),l=r(7294);r(5675);var u=r(3826),d=r.n(u);let p=e=>{let{manga:t}=e,[r,a]=(0,l.useState)(!0),[s,c]=(0,l.useState)(!1),[i,u]=(0,l.useState)(!1),p=(0,l.useRef)();(0,l.useEffect)(()=>{let e=new IntersectionObserver(t=>{let[r]=t;r.isIntersecting&&(u(!0),e.disconnect())},{rootMargin:"500px"});return p.current&&e.observe(p.current),()=>e.disconnect()},[]);let[h,x]=(0,l.useState)(!1),[f,m]=(0,l.useState)(!1),[g,y]=(0,l.useState)(!1),[w,v]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{if(y((null==t?void 0:t.is_pin)==="yes"),null==t?void 0:t.published_at){let e=new Date(Date.parse(null==t?void 0:t.published_at)),r=new Date,n=new Date(r.toISOString());x((n-e)/864e5<=1)}if(null==t?void 0:t.updated_at){let e=new Date(Date.parse(null==t?void 0:t.updated_at)),r=new Date,n=new Date(r.toISOString());m((n-e)/864e5<=1)}v((null==t?void 0:t.is_adult)==="yes")},[t]),(0,n.jsxs)("div",{ref:p,className:"relative w-full overflow-hidden rounded-t-2xl",style:{aspectRatio:"3 / 4"},children:[r&&(0,n.jsx)("div",{className:"absolute inset-0 bg-[#384152] animate-loading rounded-t-2xl z-10 flex items-center justify-center"}),i&&(0,n.jsx)("img",{src:s?"/thumbnail.webp":t.thumbnail,alt:"".concat(t.name," raw"),className:"rounded-t-2xl z-10 object-cover transition duration-300 ease-in-out ".concat(r?"scale-100":"hover:scale-110"),loading:"lazy",onLoad:()=>a(!1),onError:e=>{s||(c(!0),a(!1))}}),g?(0,n.jsx)("span",{className:"text-[12px] text-white z-20 absolute top-0 left-0 bg-[#F8413B] px-[8px] py-[2px] rounded-br-2xl",children:"Hot"}):(0,n.jsx)(n.Fragment,{children:h?(0,n.jsx)("span",{className:"text-[12px] text-white z-20 absolute top-0 left-0 bg-[#F8413B] px-[8px] py-[2px] rounded-br-2xl",children:"New"}):f?(0,n.jsx)("span",{className:"text-[12px] text-white z-20 absolute top-0 left-0 bg-[#F8413B] px-[8px] py-[2px] rounded-br-2xl",children:"Up"}):null}),w&&(0,n.jsx)("span",{className:"text-[12px] text-white z-20 absolute top-0 right-0 bg-[#F8413B] px-[8px] py-[2px] rounded-bl-2xl",children:"18+"}),(0,n.jsx)("div",{className:"".concat(d().description," absolute z-20 w-full bottom-0 px-[5px] pb-[10px]"),children:(0,n.jsx)(o(),{href:"/manga/".concat(null==t?void 0:t.slug),children:(0,n.jsx)("h3",{className:"mt-[8px] font-bold text-[12px] md:text-[14px] text-white line-clamp-1",children:null==t?void 0:t.name})})})]})},h=e=>{let{manga:t,index:r}=e,a=(0,i.useRouter)();return(0,n.jsx)("div",{onClick:()=>{a.push("/manga/".concat(null==t?void 0:t.slug))},className:"relative cursor-pointer justify-start flex items-start rounded-2xl p-0",children:(0,n.jsx)("div",{className:"overflow-hidden w-full",children:(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)(p,{manga:t}),(0,n.jsx)("hr",{}),(0,n.jsx)("div",{className:"px-[5px] my-[8px]",children:(0,n.jsxs)("div",{className:"flex justify-between text-gray-300",children:[(0,n.jsx)(o(),{href:"/manga/".concat(null==t?void 0:t.c_slug),className:"text-white cursor-pointer",onClick:e=>{e.stopPropagation()},children:(null==t?void 0:t.c_name)?"隨ｬ".concat(null==t?void 0:t.c_name,"隧ｱ"):(null==t?void 0:t.c_title)||""}),t.views&&(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(s.Z,{className:"text-[1rem] text-gray-400 mr-[5px]"}),(0,n.jsx)("span",{className:"text-[12px] md:text-[13px] text-gray-400",children:t.views?(0,c.xR)(t.views):"0"})]})]})})]})})},t.id)};var x=h},7071:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(5893),a=r(7294),o=r(7462),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},c=r(2135),i=a.forwardRef(function(e,t){return a.createElement(c.Z,(0,o.Z)({},e,{ref:t,icon:s}))});let l=e=>{let{refreshPage:t}=e;return(0,n.jsxs)("div",{onClick:t,className:"fixed bg-[#F8413B] rounded-2xl flex items-center text-[13px] justify-center px-2 py-2 text-white top-[110px] cursor-pointer left-1/2 z-[99] transform -translate-x-1/2",children:[(0,n.jsx)(i,{}),(0,n.jsx)("span",{className:"pl-2",children:"繧ｯ繝ｪ繝�け縺ｧ譖ｴ譁ｰ��"})]})};var u=l},2100:function(e,t,r){"use strict";r.d(t,{O:function(){return i}});var n=r(2536),a=r(9483),o=r.n(a),s=r(7294);r(9969);let c=e=>{let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),a=new Uint8Array(n.length);for(let e=0;e<n.length;++e)a[e]=n.charCodeAt(e);return a},i=()=>{let[e,t]=(0,s.useState)(0),[r,a]=(0,s.useState)(!1),[i,l]=(0,s.useState)("default");(0,s.useEffect)(()=>{let e=()=>{"serviceWorker"in navigator?"Notification"in window?"PushManager"in window?(l(Notification.permission),a(!0),"default"===Notification.permission&&(o().setItem("endpoint",null),o().setItem("public_key",null),o().setItem("auth_token",null),localStorage.setItem("badgeCount",null)),navigator.serviceWorker.addEventListener("message",e=>{console.log("Received message from service worker:",e.data),"badgeCount"===e.data.type&&(localStorage.setItem("badgeCount",e.data.data),t(e.data.data))})):console.log("No Push API Support!"):console.log("No Notification Support!"):console.log("No Service Worker support!")};return window.addEventListener("load",e()),()=>{window.removeEventListener("load",e())}},[]);let u=async e=>{try{await navigator.serviceWorker.register("/service-worker.js",{scope:"/"});let t=await navigator.serviceWorker.ready;console.log("Service Worker ready");let r=await t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:c("BFk8OpdZGe9DeIoclNjYEFcWIuLj4bZMTaMFvsNbxJvMrIKjWR3XuhSClspWeJidZrEQnSr7DQfSqZJ0sdmVO48")}),a=r.toJSON();o().setItem("endpoint",a.endpoint),o().setItem("public_key",a.keys.p256dh),o().setItem("auth_token",a.keys.auth),await (0,n.FL)({endpoint:a.endpoint,public_key:a.keys.p256dh,auth_token:a.keys.auth,googleId:(null==e?void 0:e.googleId)||null})}catch(e){console.error("Register Service Worker failed:",e)}},d=async e=>{if(!("Notification"in window)){alert("縺薙�繝悶Λ繧ｦ繧ｶ縺ｯ騾夂衍縺ｫ蟇ｾ蠢懊＠縺ｦ縺�∪縺帙ｓ縲ょ挨縺ｮ繝悶Λ繧ｦ繧ｶ繧偵＃蛻ｩ逕ｨ縺上□縺輔＞縲�");return}try{let t=await Notification.requestPermission();l(t),"granted"===t?u(e):alert("縲檎樟蝨ｨ縲√♀菴ｿ縺��繝悶Λ繧ｦ繧ｶ縺ｯ騾夂衍繧偵ヶ繝ｭ繝�け縺励※縺�∪縺吶る嵯縺ｮ繧｢繧､繧ｳ繝ｳ繧偵け繝ｪ繝�け縺励※縲手ｨｱ蜿ｯ縲上ｒ驕ｸ謚槭＠縺ｦ縺上□縺輔＞�√�")}catch(e){console.error("Permission error:",e)}};return{badgeCount:e,permission:i,isSupported:r,handlePermission:d}}},3826:function(e){e.exports={item:"manga-item_item__4ej97",chapter:"manga-item_chapter__4XQyN",description:"manga-item_description__eF7_X"}}}]);
